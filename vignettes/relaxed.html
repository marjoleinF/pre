<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Marjolein Fokkema" />


<title>Sparse and relaxed: Use of the relaxed lasso in fitting rule ensembles</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Sparse and relaxed: Use of the relaxed lasso in fitting rule ensembles</h1>
<h4 class="author">Marjolein Fokkema</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>A beneficial property of the lasso penalty is that it shrinks coefficients to zero. A less beneficial property is that, in the process, the lasso tends to overshrink the large coefficients too far to zero. When fitting prediction rule ensembles (PREs), this may be a nuisance, especially when we want to enfore more sparsity than what would be optimal according to cross-validated prediction error. In what follows, we show how we can easily select a smaller number of terms for the final ensemble, while retaining relatively high predictive accuracy, using the relaxed lasso.</p>
<p>The relaxed lasso has been proposed by Meinshausen (2007). Hastie, Tibshirani &amp; Tibshirani (2017) propose a simplified version of the relaxed lasso, which is implemented in package <code>**glmnet**</code> and can be employed in package <code>**pre**</code>. Hastie et al. (2017) find that “best subset selection generally performing better in high signal-to-noise (SNR) ratio regimes, and the lasso better in low SNR regimes” and that “the relaxed lasso […] is the overall winner, performing just about as well as the lasso in low SNR scenarios, and as well as best subset selection in high SNR scenarios”. A short introduction to the relaxed lasso is provided in <code>**glmnet**</code> vignette “The Relaxed lasso” (accesible in <code>**R**</code> by typing <code>vignette(&quot;relax&quot;, &quot;glmnet&quot;)</code>.</p>
</div>
<div id="example" class="section level2">
<h2>Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;pre&quot;</span>)</span></code></pre></div>
<p>We fit a PRE to predict <code>Ozone</code> and inspect the result:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>airq <span class="ot">&lt;-</span> airquality[<span class="fu">complete.cases</span>(airquality), ]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>airq.ens <span class="ot">&lt;-</span> <span class="fu">pre</span>(Ozone <span class="sc">~</span> ., <span class="at">data =</span> airq)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>airq.ens</span></code></pre></div>
<pre><code>## 
## Final ensemble with cv error within 1se of minimum: 
## 
##   lambda =  3.543968
##   number of terms = 12
##   mean cv error (se) = 352.395 (99.13754)
## 
##   cv error type : Mean-Squared Error
## 
##          rule   coefficient                          description
##   (Intercept)   68.48270407                                    1
##       rule191  -10.97368180              Wind &gt; 5.7 &amp; Temp &lt;= 87
##       rule173  -10.90385519              Wind &gt; 5.7 &amp; Temp &lt;= 82
##        rule42   -8.79715538              Wind &gt; 6.3 &amp; Temp &lt;= 84
##       rule204    7.16114781         Wind &lt;= 10.3 &amp; Solar.R &gt; 148
##        rule10   -4.68646145              Temp &lt;= 84 &amp; Temp &lt;= 77
##       rule192   -3.34460038  Wind &gt; 5.7 &amp; Temp &lt;= 87 &amp; Day &lt;= 23
##        rule51   -2.27864287              Wind &gt; 5.7 &amp; Temp &lt;= 84
##        rule93    2.18465676              Temp &gt; 77 &amp; Wind &lt;= 8.6
##        rule74   -1.36479545              Wind &gt; 6.9 &amp; Temp &lt;= 84
##        rule28   -1.15326093              Temp &lt;= 84 &amp; Wind &gt; 7.4
##        rule25   -0.70818400              Wind &gt; 6.3 &amp; Temp &lt;= 82
##       rule166   -0.04751152              Wind &gt; 6.9 &amp; Temp &lt;= 82</code></pre>
<p>What if we find an ensemble of 12 rules too complex and we want to retain only five rules? We could extract the fitted lasso path, and choose the penalty parameter so that we retain only five rules:</p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq.ens<span class="sc">$</span>glmnet.fit)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> airq.ens<span class="sc">$</span>glmnet.fit<span class="sc">$</span>glmnet.fit</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">print</span>(tab)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>tab[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, ]</span></code></pre></div>
<pre><code>##    Df  %Dev Lambda
## 1   0  0.00 12.440
## 2   2  5.61 11.880
## 3   3 10.87 11.340
## 4   3 15.94 10.820
## 5   3 20.57 10.330
## 6   3 24.79  9.861
## 7   2 28.62  9.413
## 8   2 32.10  8.985
## 9   2 35.27  8.577
## 10  4 38.25  8.187
## 11  5 41.46  7.815
## 12  5 44.45  7.460</code></pre>
<p>From the <code>Df</code> and <code>Lambda</code> column, we can see that a <span class="math inline">\(\lambda\)</span> value of 7.815 would result in a final ensemble comprising five terms.</p>
</div>
<div id="relaxed-fits" class="section level2">
<h2>Relaxed fits</h2>
<p>Though we can obtain smaller ensembles through supplying larger values for <span class="math inline">\(\lambda\)</span>, in the plot we also see that the cross-validated errors (<span class="math inline">\(y\)</span>-axis) will be substantially higher with a <span class="math inline">\(\lambda\)</span> value yielding five terms. This is due to selecting a smaller number of predictors, as well as to the overshrinking of large coefficients the lasso tends to exhibit. To mitigate this overshrinkage, the relaxed lasso ‘unshrinks’ the non-zero coefficients towards their unpenalized values.</p>
<p>We can also employ the relaxed lasso by specifying <code>relax = TRUE</code> when fitting rule ensemble using function <code>pre</code>, because we can pass most of the arguments of function <code>cv.glmnet</code> directly to function <code>pre</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>airq.ens.rel <span class="ot">&lt;-</span> <span class="fu">pre</span>(Ozone <span class="sc">~</span> ., <span class="at">data =</span> airq, <span class="at">relax =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>If we specify <code>relax = TRUE</code>, the <code>gamma</code> argument (see <code>?cv.glmnet</code>) will by default be set to a range of five values in the interval [0, 1]. This can be overruled by specifying different values for argument <code>gamma</code> in the call to function <code>pre</code>.</p>
<p>Let us take a look at the regularization paths we obtain in the relaxed fit:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq.ens.rel<span class="sc">$</span>glmnet.fit)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We obtained one regularization path for each value of <span class="math inline">\(\gamma\)</span>. The path with <span class="math inline">\(\gamma = 1\)</span> is the default lasso path. Lower values of <span class="math inline">\(\gamma\)</span> ‘unshrink’ the value of the non-zero coefficients of the lasso towards their unpenalized values. We see that for the <span class="math inline">\(\lambda\)</span> value yielding the minimum MSE (indicated by the left-most vertical dotted line), the value of <span class="math inline">\(\gamma\)</span> does not make a lot of difference for the MSE, but when <span class="math inline">\(\lambda\)</span> values increase, higher values of <span class="math inline">\(\gamma\)</span> tend to yield lower MSE.</p>
<p>For model selection using the <code>&quot;lambda.min&quot;</code> or <code>&quot;lambda.1se&quot;</code> criterion, by default the <span class="math inline">\(\gamma\)</span> value yielding the lowest CV error will be used:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> airq.ens.rel<span class="sc">$</span>glmnet.fit<span class="sc">$</span>relaxed</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">lambda.1se =</span> <span class="fu">c</span>(fit<span class="sc">$</span>lambda<span class="fl">.1</span>se, fit<span class="sc">$</span>gamma<span class="fl">.1</span>se, fit<span class="sc">$</span>nzero<span class="fl">.1</span>se),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">lambda.min =</span> <span class="fu">c</span>(fit<span class="sc">$</span>lambda.min, fit<span class="sc">$</span>gamma.min, fit<span class="sc">$</span>nzero.min),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">row.names =</span> <span class="fu">c</span>(<span class="st">&quot;lamda&quot;</span>, <span class="st">&quot;gamma&quot;</span>, <span class="st">&quot;# of non-zero terms&quot;</span>))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>mat</span></code></pre></div>
<pre><code>##                     lambda.1se lambda.min
## lamda                 6.193185   3.382889
## gamma                 0.000000   0.000000
## # of non-zero terms   9.000000  12.000000</code></pre>
<p>Thus, as the dotted vertical lines in the plots already suggest, with the default <code>&quot;lambda.1se&quot;</code> criterion, a final model with 9 terms will be selected, with coefficients obtained using a <span class="math inline">\(\lambda\)</span> value of 6.193185 and a <span class="math inline">\(\gamma\)</span> value of 0. With the <code>&quot;lambda.min&quot;</code> criterion, we obtain a more complex fit; <span class="math inline">\(\gamma = 0\)</span> still yields the lowest CV error. Note that use of <code>&quot;lambda.min&quot;</code> increases the likelihood of overfitting, because function <code>pre</code> uses the same data to extract the rules and fit the penalized regression, so in most cases the default <code>&quot;lambda.1se&quot;</code> criterion can be expected to provide a less complex, better generalizable, often more accurate fit.</p>
<p>The default of function <code>pre</code> is to use the <code>&quot;lambda.1se&quot;</code> criterion. When <code>relax = TRUE</code> has been specified in the call to function <code>pre</code>, the default of all <code>S3</code> methods for class <code>pre</code> (i.e., <code>print</code>, <code>plot</code>, <code>coef</code>, <code>predict</code>, <code>importance</code>) and associated functions (i.e., <code>explain</code>, <code>cvpre</code>, <code>singleplot</code>, <code>pairplot</code>, <code>interact</code>) is to use the solution obtained with <code>&quot;lambda.1se&quot;</code> and the <span class="math inline">\(\gamma\)</span> value yielding the lowest CV error at that value of <span class="math inline">\(\lambda\)</span>. This can be overruled by specifying a different value of <span class="math inline">\(\lambda\)</span> to the <code>penalty.par.value</code> argument, and/or a different value of <span class="math inline">\(\gamma\)</span> to the <code>gamma</code> argument. Some examples:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(airq.ens.rel)</span></code></pre></div>
<pre><code>## 
## Final ensemble with cv error within 1se of minimum: 
## 
##   lambda =  6.193185 
##   gamma =  0
##   number of terms = 9
##   mean cv error (se) = 304.7364 (79.60512)
## 
##   cv error type : Mean-Squared Error</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(airq.ens.rel, <span class="at">penalty =</span> <span class="st">&quot;lambda.min&quot;</span>)</span></code></pre></div>
<pre><code>## Final ensemble with minimum cv error: 
## 
##   lambda =  3.382889 
##   gamma =  0
##   number of terms = 12
##   mean cv error (se) = 244.7256 (67.54855)
## 
##   cv error type : Mean-Squared Error</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(airq.ens.rel, <span class="at">gamma =</span> <span class="fl">0.75</span>)</span></code></pre></div>
<pre><code>## 
## Final ensemble with cv error within 1se of minimum: 
## 
##   lambda =  6.193185 
##   gamma =  0.75
##   number of terms = 9
##   mean cv error (se) = 438.8465 (113.3365)
## 
##   cv error type : Mean-Squared Error</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(airq.ens.rel, <span class="at">penalty =</span> <span class="dv">7</span>, <span class="at">gamma =</span> <span class="dv">0</span>) <span class="do">## lambda value closest to specified value will be used </span></span></code></pre></div>
<pre><code>## Final ensemble: 
## 
##   lambda =  7.120658 
##   gamma =  0
##   number of terms = 5
##   mean cv error (se) = 385.9066 (95.8138)
## 
##   cv error type : Mean-Squared Error</code></pre>
<p>Some rules for specification of <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(\gamma\)</span> in package <code>**pre**</code>:</p>
<ul>
<li><p>If a numeric value of <span class="math inline">\(\lambda\)</span> is supplied, a (numeric) value for <span class="math inline">\(\gamma\)</span> must be supplied.</p></li>
<li><p>Otherwise (if the default <code>lambda.1se</code> criterion is employed, or the <code>lambda.min</code> criterion specified), the <span class="math inline">\(\gamma\)</span> value yielding lowest CV error (at the <span class="math inline">\(\lambda\)</span> value associated with the specified criterion) will be used; this <span class="math inline">\(\gamma\)</span> value can be overruled by supplying the desired <span class="math inline">\(\gamma\)</span> value to the <code>gamma</code> argument.</p></li>
<li><p>Multiple values of <span class="math inline">\(\gamma\)</span> can be passed to function <code>pre</code>, but all other methods and functions take only one single value for <span class="math inline">\(\gamma\)</span>.</p></li>
</ul>
<p>Also note that in the code chunk above we refer to the <code>penalty.par.val</code> argument by abbreviating it to <code>penalty</code>; this has the same effect as writing <code>penalty.par.val</code> in full.</p>
</div>
<div id="forward-stepwise-selection" class="section level2">
<h2>Forward stepwise selection</h2>
<p>If we use <span class="math inline">\(\gamma = 0\)</span>, our final ensemble will be a non-penalized fit with predictors (rules and predictors) selected by the lasso. This approach can be useful if we want a rule ensemble with low complexity and high generalizability, and especially when we want to decide a-priori on the number of terms we want to retain. By specifying a high value of <span class="math inline">\(\lambda\)</span>, we can retain a small number of rules, while specifying <span class="math inline">\(\gamma = 0\)</span> will provide unbiased (unpenalized) coefficients. This avoids the overshrinking of large coefficients. In terms of predictive accuracy, this approach may not perform best, but if low complexity (interpretability) is most important, this is a very useful approach, which does not reduce predictive accuracy too much.</p>
<p>To use forward stepwise regression with variable entry order determined by the lasso, we specify a <span class="math inline">\(\gamma\)</span> value of 0, and specify the number of variables we want to retain through specification of <span class="math inline">\(\lambda\)</span> (<code>penalty.par.val</code>). Here, we use the value of <span class="math inline">\(\lambda\)</span> that we found to yield a five-term ensemble:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>my_lambda <span class="ot">&lt;-</span> tab<span class="sc">$</span>Lambda[tab<span class="sc">$</span>Df <span class="sc">==</span> <span class="dv">5</span>][<span class="dv">1</span>]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>my_lambda</span></code></pre></div>
<pre><code>## [1] 7.815</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(airq.ens.rel, <span class="at">gamma =</span> <span class="dv">0</span>, <span class="at">penalty =</span> my_lambda)</span></code></pre></div>
<pre><code>## Final ensemble: 
## 
##   lambda =  7.814913 
##   gamma =  0
##   number of terms = 5
##   mean cv error (se) = 390.2582 (101.9163)
## 
##   cv error type : Mean-Squared Error
## 
##          rule  coefficient                   description
##   (Intercept)    68.478719                             1
##        rule51   -19.799451       Wind &gt; 5.7 &amp; Temp &lt;= 84
##       rule204    19.437293  Wind &lt;= 10.3 &amp; Solar.R &gt; 148
##       rule173   -18.518991       Wind &gt; 5.7 &amp; Temp &lt;= 82
##        rule74    -6.137405       Wind &gt; 6.9 &amp; Temp &lt;= 84
##        rule42    -5.958604       Wind &gt; 6.3 &amp; Temp &lt;= 84</code></pre>
<p>We have retained the same set of terms as with the default (non-relaxed) lasso, but the terms obtained different coefficient values. The CV error estimate indicates that this is beneficial for prediction. Note also that we can obtain the default lasso solution by specifying <code>gamma = 1</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(airq.ens.rel, <span class="at">gamma =</span> <span class="dv">1</span>, <span class="at">penalty =</span> my_lambda)</span></code></pre></div>
<pre><code>## Final ensemble: 
## 
##   lambda =  7.814913 
##   gamma =  1
##   number of terms = 5
##   mean cv error (se) = 682.127 (146.0948)
## 
##   cv error type : Mean-Squared Error
## 
##          rule    coefficient                   description
##   (Intercept)   5.639139e+01                             1
##       rule173  -1.153386e+01       Wind &gt; 5.7 &amp; Temp &lt;= 82
##        rule42  -9.655206e+00       Wind &gt; 6.3 &amp; Temp &lt;= 84
##       rule204   9.596961e-01  Wind &lt;= 10.3 &amp; Solar.R &gt; 148
##        rule74  -4.602716e-01       Wind &gt; 6.9 &amp; Temp &lt;= 84
##        rule51  -4.543017e-04       Wind &gt; 5.7 &amp; Temp &lt;= 84</code></pre>
</div>
<div id="comparison-of-predicted-values" class="section level2">
<h2>Comparison of predicted values</h2>
<p>Below, we depict the effect of the <span class="math inline">\(\gamma\)</span> parameter, which controls the amount of shrinkage on the non-zero coefficients. On the <span class="math inline">\(x\)</span>-axes are the observed, on the <span class="math inline">\(y\)</span>-axes the predicted values of the response. We see that the default, non-relaxed approach (where <span class="math inline">\(\gamma = 1\)</span> and <span class="math inline">\(\lambda\)</span> is selected using the 1SE criterion) yields predicted values most heavily shrunken towards the training sample mean (42.0990991). With lower values of <span class="math inline">\(\lambda\)</span> and/or <span class="math inline">\(\gamma\)</span>, predicted values are shrunken less.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq<span class="sc">$</span>Ozone, <span class="fu">predict</span>(airq.ens.rel, <span class="at">gamma =</span> <span class="dv">1</span>), </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;lambda.1se criterion (default)&quot;</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">150</span>), <span class="at">xlab =</span> <span class="st">&quot;observed&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;predicted&quot;</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq<span class="sc">$</span>Ozone, <span class="fu">predict</span>(airq.ens.rel), </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;lambda.1se criterion (relaxed)&quot;</span>, </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">150</span>), <span class="at">xlab =</span> <span class="st">&quot;observed&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;predicted&quot;</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq<span class="sc">$</span>Ozone, <span class="fu">predict</span>(airq.ens.rel, <span class="at">penalty =</span> <span class="st">&quot;lambda.min&quot;</span>),</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">main =</span> <span class="st">&quot;forward stepwise (retain terms)&quot;</span>, </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">150</span>), <span class="at">xlab =</span> <span class="st">&quot;observed&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;predicted&quot;</span>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(airq<span class="sc">$</span>Ozone, <span class="fu">predict</span>(airq.ens.rel, <span class="at">penalty =</span> my_lambda, <span class="at">gamma =</span> <span class="dv">0</span>), </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>                         <span class="at">main =</span> <span class="st">&quot;lambda.min criterion (relaxed)&quot;</span>, </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">150</span>), <span class="at">xlab =</span> <span class="st">&quot;observed&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;predicted&quot;</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>To evaluate predictive accuracy of the final fitted model, and to estimate generalization error to unseen observations, cross-validation would be more appropriate than using training data for fitting and evaluating the model. To that end, function <code>cvpre</code> can for example be used.</p>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>Hastie, T., Tibshirani, R., &amp; Tibshirani, R. J. (2017). Extended comparisons of best subset selection, forward stepwise selection, and the lasso. <em>arXiv:1707.08692</em>, <a href="https://arxiv.org/abs/1707.08692" class="uri">https://arxiv.org/abs/1707.08692</a>.</p>
<p>Meinshausen, N. (2007). Relaxed lasso. <em>Computational Statistics &amp; Data Analysis, 52</em>(1), 374-393.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
